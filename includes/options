<h1 id='options'>Options</h1><pre class="highlight javascript"><code><span class="nx">YAML</span><span class="p">.</span><span class="nx">defaultOptions</span>
<span class="c1">// { keepBlobsInJSON: true,</span>
<span class="c1">//   keepNodeTypes: true,</span>
<span class="c1">//   version: '1.2' }</span>

<span class="nx">YAML</span><span class="p">.</span><span class="nx">Document</span><span class="p">.</span><span class="nx">defaults</span>
<span class="c1">// { '1.0': { merge: true, schema: 'yaml-1.1' },</span>
<span class="c1">//   '1.1': { merge: true, schema: 'yaml-1.1' },</span>
<span class="c1">//   '1.2': { merge: false, schema: 'core' } }</span>
</code></pre><h4 id='yaml-defaultoptions'><code>YAML.defaultOptions</code></h4><h4 id='yaml-document-defaults'><code>YAML.Document.defaults</code></h4>
<p><code>yaml</code> defines options in three places: as an argument of parse, create and stringify calls, in the values of <code>YAML.defaultOptions</code>, and in the version-dependent <code>YAML.Document.defaults</code> object. Values set in <code>YAML.defaultOptions</code> override version-dependent defaults, and argument options override both.</p>

<p>The <code>version</code> option value (<code>&#39;1.2&#39;</code> by default) may be overridden by any document-specific <code>%YAML</code> directive.</p>

<table><thead>
<tr>
<th>Option</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>anchorPrefix</td>
<td><code>string</code></td>
<td>Default prefix for anchors. By default <code>&#39;a&#39;</code>, resulting in anchors <code>a1</code>, <code>a2</code>, etc.</td>
</tr>
<tr>
<td>customTags</td>
<td><a href="#custom-data-types"><code>Tag[]</code></a> &vert; <code>function</code></td>
<td>Array of additional (custom) tags to include in the schema</td>
</tr>
<tr>
<td>keepBlobsInJSON</td>
<td><code>boolean</code></td>
<td>Allow non-JSON JavaScript objects to remain in the <code>toJSON</code> output. Relevant with the YAML 1.1 <code>!!timestamp</code> and <code>!!binary</code> tags. By default <code>true</code>.</td>
</tr>
<tr>
<td>keepCstNodes</td>
<td><code>boolean</code></td>
<td>Include references in the AST to each node&#39;s corresponding CST node. By default <code>false</code>.</td>
</tr>
<tr>
<td>keepNodeTypes</td>
<td><code>boolean</code></td>
<td>Store the original node type when parsing documents. By default <code>true</code>.</td>
</tr>
<tr>
<td>mapAsMap</td>
<td><code>boolean</code></td>
<td>When outputting JS, use Map rather than Object to represent mappings. By default <code>false</code>.</td>
</tr>
<tr>
<td>maxAliasCount</td>
<td><code>number</code></td>
<td>Prevent <a href="https://en.wikipedia.org/wiki/Billion_laughs_attack">exponential entity expansion attacks</a> by limiting data aliasing count; set to <code>-1</code> to disable checks; <code>0</code> disallows all alias nodes. By default <code>100</code>.</td>
</tr>
<tr>
<td>merge</td>
<td><code>boolean</code></td>
<td>Enable support for <code>&lt;&lt;</code> merge keys. By default <code>false</code> for YAML 1.2 and <code>true</code> for earlier versions.</td>
</tr>
<tr>
<td>prettyErrors</td>
<td><code>boolean</code></td>
<td>Include line position &amp; node type directly in errors; drop their verbose source and context. By default <code>false</code>.</td>
</tr>
<tr>
<td>schema</td>
<td><code>&#39;core&#39;</code> &vert; <code>&#39;failsafe&#39;</code> &vert; <code>&#39;json&#39;</code> &vert; <code>&#39;yaml-1.1&#39;</code></td>
<td>The base schema to use. By default <code>&#39;core&#39;</code> for YAML 1.2 and <code>&#39;yaml-1.1&#39;</code> for earlier versions.</td>
</tr>
<tr>
<td>version</td>
<td><code>string</code></td>
<td>The YAML version used by documents without a <code>%YAML</code> directive. By default <code>&#39;1.2&#39;</code>.</td>
</tr>
</tbody></table>
<h2 id='data-schemas'>Data Schemas</h2><pre class="highlight javascript"><code><span class="nx">YAML</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'3'</span><span class="p">)</span> <span class="c1">// 3</span>
<span class="nx">YAML</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'3'</span><span class="p">,</span> <span class="p">{</span> <span class="na">schema</span><span class="p">:</span> <span class="s1">'failsafe'</span> <span class="p">})</span> <span class="c1">// '3'</span>

<span class="nx">YAML</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'No'</span><span class="p">)</span> <span class="c1">// 'No'</span>
<span class="nx">YAML</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'No'</span><span class="p">,</span> <span class="p">{</span> <span class="na">schema</span><span class="p">:</span> <span class="s1">'json'</span> <span class="p">})</span> <span class="c1">// SyntaxError: Unresolved plain scalar "No"</span>
<span class="nx">YAML</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'No'</span><span class="p">,</span> <span class="p">{</span> <span class="na">schema</span><span class="p">:</span> <span class="s1">'yaml-1.1'</span> <span class="p">})</span> <span class="c1">// false</span>
<span class="nx">YAML</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'No'</span><span class="p">,</span> <span class="p">{</span> <span class="na">version</span><span class="p">:</span> <span class="s1">'1.1'</span> <span class="p">})</span> <span class="c1">// false</span>

<span class="nx">YAML</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'{[1, 2]: many}'</span><span class="p">)</span> <span class="c1">// { '[1,2]': 'many' }</span>
<span class="nx">YAML</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">'{[1, 2]: many}'</span><span class="p">,</span> <span class="p">{</span> <span class="na">mapAsMap</span><span class="p">:</span> <span class="kc">true</span> <span class="p">})</span> <span class="c1">// Map { [ 1, 2 ] =&gt; 'many' }</span>
</code></pre>
<p>Aside from defining the language structure, the YAML 1.2 spec defines a number of different <em>schemas</em> that may be used. The default is the <a href="http://yaml.org/spec/1.2/spec.html#id2804923"><code>core</code></a> schema, which is the most common one. The <a href="http://yaml.org/spec/1.2/spec.html#id2803231"><code>json</code></a> schema is effectively the minimum schema required to parse JSON; both it and the core schema are supersets of the minimal <a href="http://yaml.org/spec/1.2/spec.html#id2802346"><code>failsafe</code></a> schema.</p>

<p>The <code>yaml-1.1</code> schema matches the more liberal <a href="http://yaml.org/type/">YAML 1.1 types</a> (also used by YAML 1.0), including binary data and timestamps as distinct tags as well as accepting greater variance in scalar values (with e.g. <code>&#39;No&#39;</code> being parsed as <code>false</code> rather than a string value). The <code>!!value</code> and <code>!!yaml</code> types are not supported.</p>
<pre class="highlight javascript"><code><span class="nx">YAML</span><span class="p">.</span><span class="nx">defaultOptions</span><span class="p">.</span><span class="nx">merge</span> <span class="o">=</span> <span class="kc">true</span>

<span class="kr">const</span> <span class="nx">mergeResult</span> <span class="o">=</span> <span class="nx">YAML</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s2">`
source: &amp;base { a: 1, b: 2 }
target:
  &lt;&lt;: *base
  b: base
`</span><span class="p">)</span>

<span class="nx">mergeResult</span><span class="p">.</span><span class="nx">target</span>
<span class="c1">// { a: 1, b: 'base' }</span>
</code></pre>
<p><strong>Merge</strong> keys are a <a href="http://yaml.org/type/merge.html">YAML 1.1 feature</a> that is not a part of the 1.2 spec. To use a merge key, assign an alias node or an array of alias nodes as the value of a <code>&lt;&lt;</code> key in a mapping.</p>
<h2 id='tag-stringifier-options'>Tag Stringifier Options</h2><pre class="highlight javascript"><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">binaryOptions</span><span class="p">,</span> <span class="nx">boolOptions</span><span class="p">,</span> <span class="nx">nullOptions</span><span class="p">,</span> <span class="nx">strOptions</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'yaml/types'</span>

<span class="nx">binaryOptions</span> <span class="c1">// Used by !!binary, part of the yaml-1.1 schema</span>
<span class="c1">// { defaultType: 'BLOCK_LITERAL', lineWidth: 76 }</span>

<span class="nx">boolOptions</span>
<span class="c1">// { trueStr: 'true', falseStr: 'false' }</span>

<span class="nx">nullOptions</span>
<span class="c1">// { nullStr: 'null' }</span>

<span class="nx">strOptions</span>
<span class="c1">// { defaultType: 'PLAIN',</span>
<span class="c1">//   doubleQuoted: { jsonEncoding: false, minMultiLineLength: 40 },</span>
<span class="c1">//   fold: { lineWidth: 80, minContentWidth: 20 } }</span>

<span class="nx">YAML</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="s1">'this is'</span><span class="p">:</span> <span class="kc">null</span> <span class="p">})</span>
<span class="c1">// this is: null</span>

<span class="nx">nullOptions</span><span class="p">.</span><span class="nx">nullStr</span> <span class="o">=</span> <span class="s1">'~'</span>
<span class="nx">strOptions</span><span class="p">.</span><span class="nx">defaultType</span> <span class="o">=</span> <span class="s1">'QUOTE_SINGLE'</span>
<span class="nx">YAML</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="s1">'this is'</span><span class="p">:</span> <span class="kc">null</span> <span class="p">})</span>
<span class="c1">// 'this is': ~</span>
</code></pre>
<p>To customise the YAML stringification, some options objects are exported from <code>&#39;yaml/types&#39;</code>. Note that these values are used by all documents. For example, to disable the automatic line wrapping, set <code>strOptions.fold.lineWidth</code> to <code>0</code>.</p>
